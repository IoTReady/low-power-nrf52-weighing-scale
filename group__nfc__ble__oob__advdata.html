<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Weighing Scale: Advertising and Scan Response Data Encoder for NFC OOB pairing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="2" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smart Weighing Scale
   </div>
   <!-- PROJECT BRIEF is expected to be a URL -->
   <div id="projectbrief"><a href=https://github.com/IoTReady/weighing_scale_nrf>https://github.com/IoTReady/weighing_scale_nrf</a></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__nfc__ble__oob__advdata.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Advertising and Scan Response Data Encoder for NFC OOB pairing<div class="ingroups"><a class="el" href="group__nfc__api.html">Nfc_api</a> &raquo; <a class="el" href="group__nfc__modules.html">NDEF message modules</a> &raquo; <a class="el" href="group__nfc__ndef__messages.html">Predefined NDEF messages</a> &raquo; <a class="el" href="group__nfc__ble__pair__msg.html">BLE pairing messages</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Function for encoding data in the Advertising and Scan Response Data format, which can be used to create payload of NFC message intended for initiating the Out-of-Band pairing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaffb699ebf7f5ba05c8fd42151dcad2c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nfc__ble__oob__advdata.html#gaffb699ebf7f5ba05c8fd42151dcad2c1">nfc_ble_oob_adv_data_encode</a> (<a class="el" href="structble__advdata__t.html">ble_advdata_t</a> const *const p_advdata, uint8_t *const p_encoded_data, uint16_t *const p_len)</td></tr>
<tr class="memdesc:gaffb699ebf7f5ba05c8fd42151dcad2c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for encoding data in the Advertising and Scan Response data format, which is used for NFC OOB pairing.  <a href="group__nfc__ble__oob__advdata.html#gaffb699ebf7f5ba05c8fd42151dcad2c1">More...</a><br /></td></tr>
<tr class="separator:gaffb699ebf7f5ba05c8fd42151dcad2c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2b19115b27816870b68c365d766212a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nfc__ble__oob__advdata.html#gaf2b19115b27816870b68c365d766212a">nfc_tk_value_payload_encode</a> (<a class="el" href="structble__advdata__tk__value__t.html">ble_advdata_tk_value_t</a> *p_tk_value, uint8_t *p_tk_payload_data)</td></tr>
<tr class="memdesc:gaf2b19115b27816870b68c365d766212a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for encoding payload field of Security Manager TK Value AD Type.  <a href="group__nfc__ble__oob__advdata.html#gaf2b19115b27816870b68c365d766212a">More...</a><br /></td></tr>
<tr class="separator:gaf2b19115b27816870b68c365d766212a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Function for encoding data in the Advertising and Scan Response Data format, which can be used to create payload of NFC message intended for initiating the Out-of-Band pairing. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaffb699ebf7f5ba05c8fd42151dcad2c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffb699ebf7f5ba05c8fd42151dcad2c1">&#9670;&nbsp;</a></span>nfc_ble_oob_adv_data_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> nfc_ble_oob_adv_data_encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__advdata__t.html">ble_advdata_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_advdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_encoded_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>p_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for encoding data in the Advertising and Scan Response data format, which is used for NFC OOB pairing. </p>
<p>This function encodes data into the Advertising and Scan Response data format (AD structures). Encoding is based on the selections in the supplied structures. This function uses <a class="el" href="group__ble__sdk__lib__advdata.html#ga8534b0db1e46d3cdd4db0dc593071b74">ble_advdata_encode</a> to encode regular data and adds additional AD Structures which are specific for NFC OOB pairing: Security Manager TK Value, LESC OOB values, OOB Flags, and LE Role.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_advdata</td><td>Pointer to the structure for specifying the content of encoded data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_encoded_data</td><td>Pointer to the buffer where encoded data will be returned. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_len</td><td><code>in:</code> Size of <code>p_encoded_data</code> buffer. <code>out:</code> Length of encoded data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the operation was successful. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_PARAM</td><td>If the operation failed because a wrong parameter was provided in <code>p_advdata</code>. </td></tr>
    <tr><td class="paramname">NRF_ERROR_DATA_SIZE</td><td>If the operation failed because not all the requested data could fit into the provided buffer or some encoded AD structure is too long and its length cannot be encoded with one octet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf2b19115b27816870b68c365d766212a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2b19115b27816870b68c365d766212a">&#9670;&nbsp;</a></span>nfc_tk_value_payload_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nfc_tk_value_payload_encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__advdata__tk__value__t.html">ble_advdata_tk_value_t</a> *&#160;</td>
          <td class="paramname"><em>p_tk_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_tk_payload_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for encoding payload field of Security Manager TK Value AD Type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_tk_value</td><td>Security Manager TK Value AD Type payload. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_tk_payload_data</td><td>Pointer to the buffer where TK payload data will be stored. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://iotready.co"> IoTReady </a><img class="footer" src="logo.png" width="30" height="30" alt="IoTReady"/></a></li>
  </ul>
</div>
</body>
</html>
