<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Weighing Scale: Connection Parameters Negotiation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="2" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smart Weighing Scale
   </div>
   <!-- PROJECT BRIEF is expected to be a URL -->
   <div id="projectbrief"><a href=https://github.com/IoTReady/weighing_scale_nrf>https://github.com/IoTReady/weighing_scale_nrf</a></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__ble__conn__params.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Connection Parameters Negotiation</div>  </div>
</div><!--header-->
<div class="contents">

<p>Module for initiating and executing a connection parameters negotiation procedure.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structble__conn__params__evt__t.html">ble_conn_params_evt_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection Parameters Module event.  <a href="structble__conn__params__evt__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structble__conn__params__init__t.html">ble_conn_params_init_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection Parameters Module init structure. This contains all options and data needed for initialization of the connection parameters negotiation module.  <a href="structble__conn__params__init__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga06f8bd809ccb59649fcd92576c2723eb"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__conn__params.html#ga06f8bd809ccb59649fcd92576c2723eb">ble_conn_params_evt_handler_t</a>) (<a class="el" href="structble__conn__params__evt__t.html">ble_conn_params_evt_t</a> *p_evt)</td></tr>
<tr class="memdesc:ga06f8bd809ccb59649fcd92576c2723eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection Parameters Module event handler type.  <a href="group__ble__conn__params.html#ga06f8bd809ccb59649fcd92576c2723eb">More...</a><br /></td></tr>
<tr class="separator:ga06f8bd809ccb59649fcd92576c2723eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gae819a1b14dbebf447254ec41f644ec42"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__conn__params.html#gae819a1b14dbebf447254ec41f644ec42">ble_conn_params_evt_type_t</a> { <a class="el" href="group__ble__conn__params.html#ggae819a1b14dbebf447254ec41f644ec42a693314f30d0f73380ae2701d1094179a">BLE_CONN_PARAMS_EVT_FAILED</a>
, <a class="el" href="group__ble__conn__params.html#ggae819a1b14dbebf447254ec41f644ec42a5b92634a7d02ed858cc114e73d04d265">BLE_CONN_PARAMS_EVT_SUCCEEDED</a>
 }</td></tr>
<tr class="memdesc:gae819a1b14dbebf447254ec41f644ec42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection Parameters Module event type.  <a href="group__ble__conn__params.html#gae819a1b14dbebf447254ec41f644ec42">More...</a><br /></td></tr>
<tr class="separator:gae819a1b14dbebf447254ec41f644ec42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9eb39f84188e0fbbc81966892e8f450b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__conn__params.html#ga9eb39f84188e0fbbc81966892e8f450b">ble_conn_params_init</a> (const <a class="el" href="structble__conn__params__init__t.html">ble_conn_params_init_t</a> *p_init)</td></tr>
<tr class="memdesc:ga9eb39f84188e0fbbc81966892e8f450b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing the Connection Parameters module.  <a href="group__ble__conn__params.html#ga9eb39f84188e0fbbc81966892e8f450b">More...</a><br /></td></tr>
<tr class="separator:ga9eb39f84188e0fbbc81966892e8f450b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15207947845d6cdcad5b6847d94e6d10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__conn__params.html#ga15207947845d6cdcad5b6847d94e6d10">ble_conn_params_stop</a> (void)</td></tr>
<tr class="memdesc:ga15207947845d6cdcad5b6847d94e6d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for stopping the Connection Parameters module.  <a href="group__ble__conn__params.html#ga15207947845d6cdcad5b6847d94e6d10">More...</a><br /></td></tr>
<tr class="separator:ga15207947845d6cdcad5b6847d94e6d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbff87b2c34166d2604d15c74201ea55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__conn__params.html#gacbff87b2c34166d2604d15c74201ea55">ble_conn_params_change_conn_params</a> (uint16_t conn_handle, <a class="el" href="structble__gap__conn__params__t.html">ble_gap_conn_params_t</a> *p_new_params)</td></tr>
<tr class="memdesc:gacbff87b2c34166d2604d15c74201ea55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for changing the current connection parameters to a new set.  <a href="group__ble__conn__params.html#gacbff87b2c34166d2604d15c74201ea55">More...</a><br /></td></tr>
<tr class="separator:gacbff87b2c34166d2604d15c74201ea55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Module for initiating and executing a connection parameters negotiation procedure. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga06f8bd809ccb59649fcd92576c2723eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06f8bd809ccb59649fcd92576c2723eb">&#9670;&nbsp;</a></span>ble_conn_params_evt_handler_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ble_conn_params_evt_handler_t) (<a class="el" href="structble__conn__params__evt__t.html">ble_conn_params_evt_t</a> *p_evt)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connection Parameters Module event handler type. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gae819a1b14dbebf447254ec41f644ec42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae819a1b14dbebf447254ec41f644ec42">&#9670;&nbsp;</a></span>ble_conn_params_evt_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ble__conn__params.html#gae819a1b14dbebf447254ec41f644ec42">ble_conn_params_evt_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connection Parameters Module event type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggae819a1b14dbebf447254ec41f644ec42a693314f30d0f73380ae2701d1094179a"></a>BLE_CONN_PARAMS_EVT_FAILED&#160;</td><td class="fielddoc"><p>Negotiation procedure failed. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae819a1b14dbebf447254ec41f644ec42a5b92634a7d02ed858cc114e73d04d265"></a>BLE_CONN_PARAMS_EVT_SUCCEEDED&#160;</td><td class="fielddoc"><p>Negotiation procedure succeeded. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gacbff87b2c34166d2604d15c74201ea55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacbff87b2c34166d2604d15c74201ea55">&#9670;&nbsp;</a></span>ble_conn_params_change_conn_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> ble_conn_params_change_conn_params </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structble__gap__conn__params__t.html">ble_gap_conn_params_t</a> *&#160;</td>
          <td class="paramname"><em>p_new_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for changing the current connection parameters to a new set. </p>
<p>Use this function to change the connection parameters to a new set of parameter (ie different from the ones given at init of the module). This function is useful for scenario where most of the time the application needs a relatively big connection interval, and just sometimes, for a temporary period requires shorter connection interval, for example to transfer a higher amount of data. If the given parameters does not match the current connection's parameters this function initiates a new negotiation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_handle</td><td>The connection to change connection parameters on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_new_params</td><td>This contains the new connections parameters to setup.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>Successfully started Connection Parameter update procedure. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>The provided Connection Parameters pointer is invalid. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_PARAM</td><td>The provided Connection Parameters are not valid. </td></tr>
    <tr><td class="paramname">BLE_ERROR_INVALID_CONN_HANDLE</td><td>The provided connection handle is invalid. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>The connection is not in a state where this operation can performed. </td></tr>
    <tr><td class="paramname">NRF_ERROR_BUSY</td><td>Could not start operation at this time. Try again later. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NO_MEM</td><td>The SoftDevice lacks the memory to perform the action. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9eb39f84188e0fbbc81966892e8f450b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9eb39f84188e0fbbc81966892e8f450b">&#9670;&nbsp;</a></span>ble_conn_params_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> ble_conn_params_init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structble__conn__params__init__t.html">ble_conn_params_init_t</a> *&#160;</td>
          <td class="paramname"><em>p_init</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for initializing the Connection Parameters module. </p>
<dl class="section note"><dt>Note</dt><dd>If the negotiation procedure should be triggered when notification/indication of any characteristic is enabled by the peer, then this function must be called after having initialized the services.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_init</td><td>This contains information needed to initialize this module.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>Successful initialization. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>The provided Connection Parameters pointer is invalid. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_PARAM</td><td>The provided Connection Parameters are not valid. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td><code>p_init</code> was NULL. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INTERNAL</td><td>An unexpected error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga15207947845d6cdcad5b6847d94e6d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15207947845d6cdcad5b6847d94e6d10">&#9670;&nbsp;</a></span>ble_conn_params_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> ble_conn_params_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for stopping the Connection Parameters module. </p>
<p>This function is intended to be used by the application to clean up the connection parameters update module. This will stop the connection parameters update timer if running, thereby preventing any impending connection parameters update procedure. This function must be called by the application when it needs to clean itself up (for example, before disabling the bluetooth SoftDevice) so that an unwanted timer expiry event can be avoided.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>Successfully stopped module. </td></tr>
    <tr><td class="paramname">NRF_ERROR_BUSY</td><td>Could not complete operation at this time. Try again later. Note that some timers may have been disabled. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INTERNAL</td><td>An unexpected error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://iotready.co"> IoTReady </a><img class="footer" src="logo.png" width="30" height="30" alt="IoTReady"/></a></li>
  </ul>
</div>
</body>
</html>
