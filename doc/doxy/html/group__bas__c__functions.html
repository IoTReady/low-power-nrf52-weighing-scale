<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Weighing Scale: Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="2" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smart Weighing Scale
   </div>
   <!-- PROJECT BRIEF is expected to be a URL -->
   <div id="projectbrief"><a href=https://github.com/IoTReady/weighing_scale_nrf>https://github.com/IoTReady/weighing_scale_nrf</a></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__bas__c__functions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Functions<div class="ingroups"><a class="el" href="group__ble__bas__c.html">Battery Service Client</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9d0ae2cdd0fefec37afe05d139739f1d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bas__c__functions.html#ga9d0ae2cdd0fefec37afe05d139739f1d">ble_bas_c_init</a> (<a class="el" href="group__bas__c__types.html#ga4ba5a658bdfc3b2a316317abe1c4214c">ble_bas_c_t</a> *p_ble_bas_c, <a class="el" href="structble__bas__c__init__t.html">ble_bas_c_init_t</a> *p_ble_bas_c_init)</td></tr>
<tr class="memdesc:ga9d0ae2cdd0fefec37afe05d139739f1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing the Battery Service Client module.  <a href="group__bas__c__functions.html#ga9d0ae2cdd0fefec37afe05d139739f1d">More...</a><br /></td></tr>
<tr class="separator:ga9d0ae2cdd0fefec37afe05d139739f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5d6ce48c6c10a83ec1394aacb8e2727"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bas__c__functions.html#gab5d6ce48c6c10a83ec1394aacb8e2727">ble_bas_c_on_ble_evt</a> (<a class="el" href="structble__evt__t.html">ble_evt_t</a> const *p_ble_evt, void *p_context)</td></tr>
<tr class="memdesc:gab5d6ce48c6c10a83ec1394aacb8e2727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling BLE events from the SoftDevice.  <a href="group__bas__c__functions.html#gab5d6ce48c6c10a83ec1394aacb8e2727">More...</a><br /></td></tr>
<tr class="separator:gab5d6ce48c6c10a83ec1394aacb8e2727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16c5e2436be7c05afc7ea62868981c15"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bas__c__functions.html#ga16c5e2436be7c05afc7ea62868981c15">ble_bas_c_bl_notif_enable</a> (<a class="el" href="group__bas__c__types.html#ga4ba5a658bdfc3b2a316317abe1c4214c">ble_bas_c_t</a> *p_ble_bas_c)</td></tr>
<tr class="memdesc:ga16c5e2436be7c05afc7ea62868981c15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for enabling notifications on the Battery Level characteristic.  <a href="group__bas__c__functions.html#ga16c5e2436be7c05afc7ea62868981c15">More...</a><br /></td></tr>
<tr class="separator:ga16c5e2436be7c05afc7ea62868981c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaebe0b4cd8e0e09d54d18c1b8647d1dd"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bas__c__functions.html#gaaebe0b4cd8e0e09d54d18c1b8647d1dd">ble_bas_c_bl_read</a> (<a class="el" href="group__bas__c__types.html#ga4ba5a658bdfc3b2a316317abe1c4214c">ble_bas_c_t</a> *p_ble_bas_c)</td></tr>
<tr class="memdesc:gaaebe0b4cd8e0e09d54d18c1b8647d1dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for reading the Battery Level characteristic.  <a href="group__bas__c__functions.html#gaaebe0b4cd8e0e09d54d18c1b8647d1dd">More...</a><br /></td></tr>
<tr class="separator:gaaebe0b4cd8e0e09d54d18c1b8647d1dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2c3ca236c54d481867734995b03a647"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bas__c__functions.html#gaf2c3ca236c54d481867734995b03a647">ble_bas_on_db_disc_evt</a> (<a class="el" href="group__bas__c__types.html#ga4ba5a658bdfc3b2a316317abe1c4214c">ble_bas_c_t</a> *p_ble_bas_c, <a class="el" href="structble__db__discovery__evt__t.html">ble_db_discovery_evt_t</a> const *p_evt)</td></tr>
<tr class="memdesc:gaf2c3ca236c54d481867734995b03a647"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling events from the database discovery module.  <a href="group__bas__c__functions.html#gaf2c3ca236c54d481867734995b03a647">More...</a><br /></td></tr>
<tr class="separator:gaf2c3ca236c54d481867734995b03a647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga034aec7352ed20596e842ac453dabfe7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bas__c__functions.html#ga034aec7352ed20596e842ac453dabfe7">ble_bas_c_handles_assign</a> (<a class="el" href="group__bas__c__types.html#ga4ba5a658bdfc3b2a316317abe1c4214c">ble_bas_c_t</a> *p_ble_bas_c, uint16_t conn_handle, <a class="el" href="structble__bas__c__db__t.html">ble_bas_c_db_t</a> *p_peer_handles)</td></tr>
<tr class="memdesc:ga034aec7352ed20596e842ac453dabfe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for assigning handles to a this instance of bas_c.  <a href="group__bas__c__functions.html#ga034aec7352ed20596e842ac453dabfe7">More...</a><br /></td></tr>
<tr class="separator:ga034aec7352ed20596e842ac453dabfe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga16c5e2436be7c05afc7ea62868981c15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16c5e2436be7c05afc7ea62868981c15">&#9670;&nbsp;</a></span>ble_bas_c_bl_notif_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ble_bas_c_bl_notif_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__bas__c__types.html#ga4ba5a658bdfc3b2a316317abe1c4214c">ble_bas_c_t</a> *&#160;</td>
          <td class="paramname"><em>p_ble_bas_c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for enabling notifications on the Battery Level characteristic. </p>
<p>This function will enable to notification of the Battery Level characteristic at the peer by writing to the CCCD of the Battery Level Characteristic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_ble_bas_c</td><td>Pointer to the Battery Service client structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the SoftDevice has been requested to write to the CCCD of the peer. NRF_ERROR_NULL Parameter is NULL. Otherwise, an error code returned by the SoftDevice API sd_ble_gattc_write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaaebe0b4cd8e0e09d54d18c1b8647d1dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaebe0b4cd8e0e09d54d18c1b8647d1dd">&#9670;&nbsp;</a></span>ble_bas_c_bl_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ble_bas_c_bl_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__bas__c__types.html#ga4ba5a658bdfc3b2a316317abe1c4214c">ble_bas_c_t</a> *&#160;</td>
          <td class="paramname"><em>p_ble_bas_c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for reading the Battery Level characteristic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_ble_bas_c</td><td>Pointer to the Battery Service client structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the read request was successfully queued to be sent to peer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga034aec7352ed20596e842ac453dabfe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga034aec7352ed20596e842ac453dabfe7">&#9670;&nbsp;</a></span>ble_bas_c_handles_assign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ble_bas_c_handles_assign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__bas__c__types.html#ga4ba5a658bdfc3b2a316317abe1c4214c">ble_bas_c_t</a> *&#160;</td>
          <td class="paramname"><em>p_ble_bas_c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structble__bas__c__db__t.html">ble_bas_c_db_t</a> *&#160;</td>
          <td class="paramname"><em>p_peer_handles</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for assigning handles to a this instance of bas_c. </p>
<p>Call this function when a link has been established with a peer to associate this link to this instance of the module. This makes it possible to handle several link and associate each link to a particular instance of this module. The connection handle and attribute handles will be provided from the discovery event <a class="el" href="group__bas__c__enums.html#gga825ba0a7f2d9094574df073de10a3a15a427a6611278fff5ee71ac80463d5c4e2">BLE_BAS_C_EVT_DISCOVERY_COMPLETE</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ble_bas_c</td><td>Pointer to the Battery client structure instance to associate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_handle</td><td>Connection handle to associated with the given Battery Client Instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_peer_handles</td><td>Attribute handles on the BAS server you want this BAS client to interact with. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9d0ae2cdd0fefec37afe05d139739f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d0ae2cdd0fefec37afe05d139739f1d">&#9670;&nbsp;</a></span>ble_bas_c_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ble_bas_c_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__bas__c__types.html#ga4ba5a658bdfc3b2a316317abe1c4214c">ble_bas_c_t</a> *&#160;</td>
          <td class="paramname"><em>p_ble_bas_c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structble__bas__c__init__t.html">ble_bas_c_init_t</a> *&#160;</td>
          <td class="paramname"><em>p_ble_bas_c_init</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for initializing the Battery Service Client module. </p>
<p>This function will initialize the module and set up Database Discovery to discover the Battery Service. After calling this function, call <a class="el" href="group__ble__db__discovery.html#ga288299bcdcd6d76b9ebeeae14f2fed54">ble_db_discovery_start</a> to start discovery once a link with a peer has been established.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_ble_bas_c</td><td>Pointer to the Battery Service client structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ble_bas_c_init</td><td>Pointer to the Battery Service initialization structure containing the initialization information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>Operation success. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>A parameter is NULL. Otherwise, an error code returned by <a class="el" href="group__ble__db__discovery.html#gaf0f29a047cb3eb1f1b65d19be8192fc0">ble_db_discovery_evt_register</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab5d6ce48c6c10a83ec1394aacb8e2727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5d6ce48c6c10a83ec1394aacb8e2727">&#9670;&nbsp;</a></span>ble_bas_c_on_ble_evt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ble_bas_c_on_ble_evt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__evt__t.html">ble_evt_t</a> const *&#160;</td>
          <td class="paramname"><em>p_ble_evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for handling BLE events from the SoftDevice. </p>
<p>This function will handle the BLE events received from the SoftDevice. If the BLE event is relevant for the Battery Service Client module, then it is used to update interval variables and, if necessary, send events to the application.</p>
<dl class="section note"><dt>Note</dt><dd>This function must be called by the application.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ble_evt</td><td>Pointer to the BLE event. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_context</td><td>Pointer to the Battery Service client structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf2c3ca236c54d481867734995b03a647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2c3ca236c54d481867734995b03a647">&#9670;&nbsp;</a></span>ble_bas_on_db_disc_evt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ble_bas_on_db_disc_evt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__bas__c__types.html#ga4ba5a658bdfc3b2a316317abe1c4214c">ble_bas_c_t</a> *&#160;</td>
          <td class="paramname"><em>p_ble_bas_c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structble__db__discovery__evt__t.html">ble_db_discovery_evt_t</a> const *&#160;</td>
          <td class="paramname"><em>p_evt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for handling events from the database discovery module. </p>
<p>Call this function when getting a callback event from the DB discovery modue. This function will handle an event from the database discovery module, and determine if it relates to the discovery of Battery service at the peer. If so, it will call the application's event handler indicating that the Battery service has been discovered at the peer. It also populates the event with the service related information before providing it to the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">p_ble_bas_c</td><td>Pointer to the Battery Service client structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_evt</td><td>Pointer to the event received from the database discovery module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://iotready.co"> IoTReady </a><img class="footer" src="logo.png" width="30" height="30" alt="IoTReady"/></a></li>
  </ul>
</div>
</body>
</html>
