<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Weighing Scale: firmware/bootloader/components/libraries/twi_sensor/nrf_twi_sensor.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="2" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smart Weighing Scale
   </div>
   <!-- PROJECT BRIEF is expected to be a URL -->
   <div id="projectbrief"><a href=https://github.com/IoTReady/weighing_scale_nrf>https://github.com/IoTReady/weighing_scale_nrf</a></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('nrf__twi__sensor_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">nrf_twi_sensor.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="nrf__twi__sensor_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#ifndef NRF_TWI_SENSOR_H</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#define NRF_TWI_SENSOR_H</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="nrf__twi__mngr_8h.html">nrf_twi_mngr.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="nrf__balloc_8h.html">nrf_balloc.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="group__nrf__twi__sensor.html#gaa83c7f94023d0566e5879fe6dcb1087a">   65</a></span>&#160;<span class="preprocessor">#define NRF_TWI_SENSOR_SEND_BUF_SIZE   16</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="group__nrf__twi__sensor.html#ga5ea7fbc77cca1b72c072df01a8dceca5">   73</a></span>&#160;<span class="keyword">typedef</span> void (* <a class="code" href="group__nrf__twi__sensor.html#ga5ea7fbc77cca1b72c072df01a8dceca5">nrf_twi_sensor_reg_cb_t</a>)(<a class="code" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> result, <span class="keywordtype">void</span> * p_register_data);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__t.html">   79</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__t.html#a5e640ce4d1dfc1e537ed42f1d627102b">   81</a></span>&#160;    <a class="code" href="structnrf__twi__mngr__t.html">nrf_twi_mngr_t</a> <span class="keyword">const</span> * <span class="keyword">const</span> <a class="code" href="structnrf__twi__sensor__t.html#a5e640ce4d1dfc1e537ed42f1d627102b">p_twi_mngr</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__t.html#a8d0f30adb1fd2cabf20cc2be360dff98">   82</a></span>&#160;    <a class="code" href="structnrf__balloc__t.html">nrf_balloc_t</a> <span class="keyword">const</span> * <span class="keyword">const</span>   <a class="code" href="structnrf__twi__sensor__t.html#a8d0f30adb1fd2cabf20cc2be360dff98">p_pool</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;} <a class="code" href="structnrf__twi__sensor__t.html">nrf_twi_sensor_t</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__read__cmd__t.html">   92</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__read__cmd__t.html#a56dc964cbb3730be7fe9d80dd459086c">   94</a></span>&#160;    uint8_t                     <a class="code" href="structnrf__twi__sensor__read__cmd__t.html#a56dc964cbb3730be7fe9d80dd459086c">reg_address</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__read__cmd__t.html#a799b93977fc2ee9471ce8cc9d1cc8f48">   95</a></span>&#160;    <a class="code" href="structnrf__twi__mngr__transfer__t.html">nrf_twi_mngr_transfer_t</a>     transfers[2];</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__read__cmd__t.html#acc10307b1ed202223eb46a25788d302c">   96</a></span>&#160;    <a class="code" href="structnrf__twi__mngr__transaction__t.html">nrf_twi_mngr_transaction_t</a>  <a class="code" href="structnrf__twi__sensor__read__cmd__t.html#acc10307b1ed202223eb46a25788d302c">transaction</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__read__cmd__t.html#a735db935ef5647b771267290a2e1610b">   97</a></span>&#160;    <a class="code" href="group__nrf__twi__sensor.html#ga5ea7fbc77cca1b72c072df01a8dceca5">nrf_twi_sensor_reg_cb_t</a>     <a class="code" href="structnrf__twi__sensor__read__cmd__t.html#a735db935ef5647b771267290a2e1610b">user_cb</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__read__cmd__t.html#a4e6112abb53eaaee445a070715b65f1e">   98</a></span>&#160;    <a class="code" href="structnrf__twi__sensor__t.html">nrf_twi_sensor_t</a> <span class="keyword">const</span> *    <a class="code" href="structnrf__twi__sensor__read__cmd__t.html#a4e6112abb53eaaee445a070715b65f1e">p_instance</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;} <a class="code" href="structnrf__twi__sensor__read__cmd__t.html">nrf_twi_sensor_read_cmd_t</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__write__cmd__t.html">  106</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__write__cmd__t.html#a3d0af7668a601a543542f73114fe0b51">  108</a></span>&#160;    uint8_t                     send_msg[<a class="code" href="group__nrf__twi__sensor.html#gaa83c7f94023d0566e5879fe6dcb1087a">NRF_TWI_SENSOR_SEND_BUF_SIZE</a>];</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__write__cmd__t.html#a1c0a76774af5b9be0388b7573183e2f1">  109</a></span>&#160;    <a class="code" href="structnrf__twi__mngr__transfer__t.html">nrf_twi_mngr_transfer_t</a>     <a class="code" href="structnrf__twi__sensor__write__cmd__t.html#a1c0a76774af5b9be0388b7573183e2f1">transfer</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__write__cmd__t.html#af80673f5880c244f690791594a893b08">  110</a></span>&#160;    <a class="code" href="structnrf__twi__mngr__transaction__t.html">nrf_twi_mngr_transaction_t</a>  <a class="code" href="structnrf__twi__sensor__write__cmd__t.html#af80673f5880c244f690791594a893b08">transaction</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structnrf__twi__sensor__write__cmd__t.html#a8ea15611e3cb799e268f6126c32e7fcf">  111</a></span>&#160;    <a class="code" href="structnrf__twi__sensor__t.html">nrf_twi_sensor_t</a> <span class="keyword">const</span> *    <a class="code" href="structnrf__twi__sensor__write__cmd__t.html#a8ea15611e3cb799e268f6126c32e7fcf">p_instance</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;} <a class="code" href="structnrf__twi__sensor__write__cmd__t.html">nrf_twi_sensor_write_cmd_t</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="unionnrf__twi__sensor__cmd__t.html">  119</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">union</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="unionnrf__twi__sensor__cmd__t.html#aa6deb5a774a8d98e5fb80e736540a159">  121</a></span>&#160;    <a class="code" href="structnrf__twi__sensor__read__cmd__t.html">nrf_twi_sensor_read_cmd_t</a>  <a class="code" href="unionnrf__twi__sensor__cmd__t.html#aa6deb5a774a8d98e5fb80e736540a159">read</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="unionnrf__twi__sensor__cmd__t.html#aa5e8d1a1b70e8643794d8c7a6d1bf432">  122</a></span>&#160;    <a class="code" href="structnrf__twi__sensor__write__cmd__t.html">nrf_twi_sensor_write_cmd_t</a> <a class="code" href="unionnrf__twi__sensor__cmd__t.html#aa5e8d1a1b70e8643794d8c7a6d1bf432">write</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;} <a class="code" href="unionnrf__twi__sensor__cmd__t.html">nrf_twi_sensor_cmd_t</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="group__nrf__twi__sensor.html#ga0e720f69464ae128effd566b8d880bed">  139</a></span>&#160;<span class="preprocessor">#define NRF_TWI_SENSOR_DEF(twi_sensor_name, p_nrf_twi_mngr, msg_buff_size) \</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">    NRF_BALLOC_DEF(CONCAT_2(twi_sensor_name,_pool), sizeof(nrf_twi_sensor_cmd_t), msg_buff_size);\</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">    static nrf_twi_sensor_t twi_sensor_name =                                                    \</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">    {                                                                                            \</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">        .p_twi_mngr = p_nrf_twi_mngr,                                                            \</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">        .p_pool     = &amp;CONCAT_2(twi_sensor_name,_pool)                                           \</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="group__nrf__twi__sensor.html#ga581f0cca18897923ffb6698a8e5e09de">  152</a></span>&#160;<span class="preprocessor">#define NRF_TWI_SENSOR_READ(p_reg_addr, p_buffer, byte_cnt) \</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">    NRF_TWI_MNGR_WRITE(0x00, p_reg_addr, 1,        NRF_TWI_MNGR_NO_STOP), \</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">    NRF_TWI_MNGR_READ (0x00, p_buffer,   byte_cnt, 0)</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="group__nrf__twi__sensor.html#ga8c9c29c2abc17f8902109e3516c9be06">  161</a></span>&#160;<span class="preprocessor">#define NRF_TWI_SENSOR_WRITE(p_buffer, byte_cnt) \</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">    NRF_TWI_MNGR_WRITE(0x00, p_buffer, byte_cnt, 0)</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="group__nrf__twi__sensor.html#gab13e14aa7420c1928aaa88ea94db63a4">  173</a></span>&#160;<span class="preprocessor">#define NRF_TWI_SENSOR_ADDRESS_SET(_transfers, _sensor_addr)                                \</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="preprocessor">    for (uint8_t i = 0; i &lt; ARRAY_SIZE(_transfers); i++)                                    \</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">    {                                                                                       \</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">        if (i % 2 == 0)                                                                     \</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor">        {                                                                                   \</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="preprocessor">            transfers[i].operation = NRF_TWI_MNGR_WRITE_OP(_sensor_addr);                   \</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">        }                                                                                   \</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">        else                                                                                \</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">        {                                                                                   \</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">            transfers[i].operation = NRF_TWI_MNGR_READ_OP(_sensor_addr);                    \</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">        }                                                                                   \</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="group__nrf__twi__sensor.html#ga4c4003acb4b2e0aa8a3b8c54bc7b4836">  194</a></span>&#160;<span class="preprocessor">#define NRF_TWI_SENSOR_REG_SET(_register, _msk, _pos, _val)   \</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">    _register &amp;= ~(_msk);                                  \</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">    _register |= ((_msk) &amp; ((_val) &lt;&lt; (_pos)))</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="group__nrf__twi__sensor.html#ga724a1a23cec2e9c6abb916ec5b1259b3">  210</a></span>&#160;<span class="preprocessor">#define NRF_TWI_SENSOR_REG_VAL_GET(_register, _msk, _pos) \</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">    (((_register) &amp; (_msk)) &gt;&gt; (_pos))</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<a class="code" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> <a class="code" href="group__nrf__twi__sensor.html#gadf1a38045daa4a8ec8c1ad56a37d9058">nrf_twi_sensor_init</a>(<a class="code" href="structnrf__twi__sensor__t.html">nrf_twi_sensor_t</a> * p_twi_sensor);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<a class="code" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> <a class="code" href="group__nrf__twi__sensor.html#ga0976ebb1eed98577a8c914e8e56b04ff">nrf_twi_sensor_reg_read</a>(<a class="code" href="structnrf__twi__sensor__t.html">nrf_twi_sensor_t</a> <span class="keyword">const</span> * p_instance,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                   uint8_t                  sensor_addr,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                   uint8_t                  reg_address,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                   <a class="code" href="group__nrf__twi__sensor.html#ga5ea7fbc77cca1b72c072df01a8dceca5">nrf_twi_sensor_reg_cb_t</a>  user_cb,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                   uint8_t *                p_data,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                   uint8_t                  length);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<a class="code" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> <a class="code" href="group__nrf__twi__sensor.html#gaaf537c8a8f94f26a306c9f6100aa743e">nrf_twi_sensor_write</a>(<a class="code" href="structnrf__twi__sensor__t.html">nrf_twi_sensor_t</a> <span class="keyword">const</span> * p_instance,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                uint8_t                  sensor_addr,</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                                uint8_t <span class="keyword">const</span> *          p_data,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                uint8_t                  length,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                <span class="keywordtype">bool</span>                     copy_flag);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                                </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<a class="code" href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> <a class="code" href="group__nrf__twi__sensor.html#ga2c3806aff258e899e13040d2e0e0fa1a">nrf_twi_sensor_reg_write</a>(<a class="code" href="structnrf__twi__sensor__t.html">nrf_twi_sensor_t</a> <span class="keyword">const</span> * p_instance,</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                                    uint8_t                  sensor_addr,</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                    uint8_t                  reg_address,</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                    uint8_t *                p_data,</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                    uint8_t                  length);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<a class="code" href="mock__pb__decode_8h.html#aba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> uint8_t <a class="code" href="group__nrf__twi__sensor.html#ga74e3c97e7a33f342372144af8effaf1c">nrf_twi_sensor_max_util_get</a>(<a class="code" href="structnrf__twi__sensor__t.html">nrf_twi_sensor_t</a> <span class="keyword">const</span> * p_twi_sensor);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">#ifndef SUPPRESS_INLINE_IMPLEMENTATION</span></div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="group__nrf__twi__sensor.html#ga74e3c97e7a33f342372144af8effaf1c">  302</a></span>&#160;<a class="code" href="mock__pb__decode_8h.html#aba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> uint8_t <a class="code" href="group__nrf__twi__sensor.html#ga74e3c97e7a33f342372144af8effaf1c">nrf_twi_sensor_max_util_get</a>(<a class="code" href="structnrf__twi__sensor__t.html">nrf_twi_sensor_t</a> <span class="keyword">const</span> * p_twi_sensor)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;{</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__nrf__balloc.html#ga59ab44ab4e29741d75438eb1dfd21e1f">nrf_balloc_max_utilization_get</a>(p_twi_sensor-&gt;<a class="code" href="structnrf__twi__sensor__t.html#a8d0f30adb1fd2cabf20cc2be360dff98">p_pool</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">#endif </span><span class="comment">//SUPPRESS_INLINE_IMPLEMENTATION</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// NRF_SENSOR_COMMON_H</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="ttc" id="agroup__ble__ipsp__errors_html_gaf6c20fb483036617204f12e99e0b997b"><div class="ttname"><a href="group__ble__ipsp__errors.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a></div><div class="ttdeci">uint32_t ret_code_t</div><div class="ttdoc">API Result.</div><div class="ttdef"><b>Definition:</b> sdk_errors.h:158</div></div>
<div class="ttc" id="agroup__nrf__balloc_html_ga59ab44ab4e29741d75438eb1dfd21e1f"><div class="ttname"><a href="group__nrf__balloc.html#ga59ab44ab4e29741d75438eb1dfd21e1f">nrf_balloc_max_utilization_get</a></div><div class="ttdeci">__STATIC_INLINE uint8_t nrf_balloc_max_utilization_get(nrf_balloc_t const *p_pool)</div><div class="ttdoc">Function for getting maximum memory pool utilization.</div><div class="ttdef"><b>Definition:</b> nrf_balloc.h:323</div></div>
<div class="ttc" id="agroup__nrf__twi__sensor_html_ga0976ebb1eed98577a8c914e8e56b04ff"><div class="ttname"><a href="group__nrf__twi__sensor.html#ga0976ebb1eed98577a8c914e8e56b04ff">nrf_twi_sensor_reg_read</a></div><div class="ttdeci">ret_code_t nrf_twi_sensor_reg_read(nrf_twi_sensor_t const *p_instance, uint8_t sensor_addr, uint8_t reg_address, nrf_twi_sensor_reg_cb_t user_cb, uint8_t *p_data, uint8_t length)</div><div class="ttdoc">Function for reading sensor register.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.c:74</div></div>
<div class="ttc" id="agroup__nrf__twi__sensor_html_ga2c3806aff258e899e13040d2e0e0fa1a"><div class="ttname"><a href="group__nrf__twi__sensor.html#ga2c3806aff258e899e13040d2e0e0fa1a">nrf_twi_sensor_reg_write</a></div><div class="ttdeci">ret_code_t nrf_twi_sensor_reg_write(nrf_twi_sensor_t const *p_instance, uint8_t sensor_addr, uint8_t reg_address, uint8_t *p_data, uint8_t length)</div><div class="ttdoc">Function for writing to sensor register.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.c:197</div></div>
<div class="ttc" id="agroup__nrf__twi__sensor_html_ga5ea7fbc77cca1b72c072df01a8dceca5"><div class="ttname"><a href="group__nrf__twi__sensor.html#ga5ea7fbc77cca1b72c072df01a8dceca5">nrf_twi_sensor_reg_cb_t</a></div><div class="ttdeci">void(* nrf_twi_sensor_reg_cb_t)(ret_code_t result, void *p_register_data)</div><div class="ttdoc">Register read callback prototype.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:73</div></div>
<div class="ttc" id="agroup__nrf__twi__sensor_html_ga74e3c97e7a33f342372144af8effaf1c"><div class="ttname"><a href="group__nrf__twi__sensor.html#ga74e3c97e7a33f342372144af8effaf1c">nrf_twi_sensor_max_util_get</a></div><div class="ttdeci">__STATIC_INLINE uint8_t nrf_twi_sensor_max_util_get(nrf_twi_sensor_t const *p_twi_sensor)</div><div class="ttdoc">Function for getting maximum utilization of sensor buffer.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:302</div></div>
<div class="ttc" id="agroup__nrf__twi__sensor_html_gaa83c7f94023d0566e5879fe6dcb1087a"><div class="ttname"><a href="group__nrf__twi__sensor.html#gaa83c7f94023d0566e5879fe6dcb1087a">NRF_TWI_SENSOR_SEND_BUF_SIZE</a></div><div class="ttdeci">#define NRF_TWI_SENSOR_SEND_BUF_SIZE</div><div class="ttdoc">Internal write operation buffer length.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:65</div></div>
<div class="ttc" id="agroup__nrf__twi__sensor_html_gaaf537c8a8f94f26a306c9f6100aa743e"><div class="ttname"><a href="group__nrf__twi__sensor.html#gaaf537c8a8f94f26a306c9f6100aa743e">nrf_twi_sensor_write</a></div><div class="ttdeci">ret_code_t nrf_twi_sensor_write(nrf_twi_sensor_t const *p_instance, uint8_t sensor_addr, uint8_t const *p_data, uint8_t length, bool copy_flag)</div><div class="ttdoc">Function for writing to sensor.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.c:136</div></div>
<div class="ttc" id="agroup__nrf__twi__sensor_html_gadf1a38045daa4a8ec8c1ad56a37d9058"><div class="ttname"><a href="group__nrf__twi__sensor.html#gadf1a38045daa4a8ec8c1ad56a37d9058">nrf_twi_sensor_init</a></div><div class="ttdeci">ret_code_t nrf_twi_sensor_init(nrf_twi_sensor_t *p_twi_sensor)</div><div class="ttdoc">Function for initialization of sensor common instance.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.c:55</div></div>
<div class="ttc" id="amock__pb__decode_8h_html_aba87361bfad2ae52cfe2f40c1a1dbf9c"><div class="ttname"><a href="mock__pb__decode_8h.html#aba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a></div><div class="ttdeci">#define __STATIC_INLINE</div><div class="ttdef"><b>Definition:</b> mock_pb_decode.h:16</div></div>
<div class="ttc" id="anrf__balloc_8h_html"><div class="ttname"><a href="nrf__balloc_8h.html">nrf_balloc.h</a></div></div>
<div class="ttc" id="anrf__twi__mngr_8h_html"><div class="ttname"><a href="nrf__twi__mngr_8h.html">nrf_twi_mngr.h</a></div></div>
<div class="ttc" id="astructnrf__balloc__t_html"><div class="ttname"><a href="structnrf__balloc__t.html">nrf_balloc_t</a></div><div class="ttdoc">Block memory allocator pool instance. The pool is made of elements of the same size.</div><div class="ttdef"><b>Definition:</b> nrf_balloc.h:112</div></div>
<div class="ttc" id="astructnrf__twi__mngr__t_html"><div class="ttname"><a href="structnrf__twi__mngr__t.html">nrf_twi_mngr_t</a></div><div class="ttdoc">TWI transaction manager instance.</div><div class="ttdef"><b>Definition:</b> nrf_twi_mngr.h:204</div></div>
<div class="ttc" id="astructnrf__twi__mngr__transaction__t_html"><div class="ttname"><a href="structnrf__twi__mngr__transaction__t.html">nrf_twi_mngr_transaction_t</a></div><div class="ttdoc">TWI transaction descriptor.</div><div class="ttdef"><b>Definition:</b> nrf_twi_mngr.h:167</div></div>
<div class="ttc" id="astructnrf__twi__mngr__transfer__t_html"><div class="ttname"><a href="structnrf__twi__mngr__transfer__t.html">nrf_twi_mngr_transfer_t</a></div><div class="ttdoc">TWI transfer descriptor.</div><div class="ttdef"><b>Definition:</b> nrf_twi_mngr.h:157</div></div>
<div class="ttc" id="astructnrf__twi__sensor__read__cmd__t_html"><div class="ttname"><a href="structnrf__twi__sensor__read__cmd__t.html">nrf_twi_sensor_read_cmd_t</a></div><div class="ttdoc">Struct describing sensor read command.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:93</div></div>
<div class="ttc" id="astructnrf__twi__sensor__read__cmd__t_html_a4e6112abb53eaaee445a070715b65f1e"><div class="ttname"><a href="structnrf__twi__sensor__read__cmd__t.html#a4e6112abb53eaaee445a070715b65f1e">nrf_twi_sensor_read_cmd_t::p_instance</a></div><div class="ttdeci">nrf_twi_sensor_t const  * p_instance</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:98</div></div>
<div class="ttc" id="astructnrf__twi__sensor__read__cmd__t_html_a56dc964cbb3730be7fe9d80dd459086c"><div class="ttname"><a href="structnrf__twi__sensor__read__cmd__t.html#a56dc964cbb3730be7fe9d80dd459086c">nrf_twi_sensor_read_cmd_t::reg_address</a></div><div class="ttdeci">uint8_t reg_address</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:94</div></div>
<div class="ttc" id="astructnrf__twi__sensor__read__cmd__t_html_a735db935ef5647b771267290a2e1610b"><div class="ttname"><a href="structnrf__twi__sensor__read__cmd__t.html#a735db935ef5647b771267290a2e1610b">nrf_twi_sensor_read_cmd_t::user_cb</a></div><div class="ttdeci">nrf_twi_sensor_reg_cb_t user_cb</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:97</div></div>
<div class="ttc" id="astructnrf__twi__sensor__read__cmd__t_html_acc10307b1ed202223eb46a25788d302c"><div class="ttname"><a href="structnrf__twi__sensor__read__cmd__t.html#acc10307b1ed202223eb46a25788d302c">nrf_twi_sensor_read_cmd_t::transaction</a></div><div class="ttdeci">nrf_twi_mngr_transaction_t transaction</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:96</div></div>
<div class="ttc" id="astructnrf__twi__sensor__t_html"><div class="ttname"><a href="structnrf__twi__sensor__t.html">nrf_twi_sensor_t</a></div><div class="ttdoc">Structure holding sensor instance.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:80</div></div>
<div class="ttc" id="astructnrf__twi__sensor__t_html_a5e640ce4d1dfc1e537ed42f1d627102b"><div class="ttname"><a href="structnrf__twi__sensor__t.html#a5e640ce4d1dfc1e537ed42f1d627102b">nrf_twi_sensor_t::p_twi_mngr</a></div><div class="ttdeci">nrf_twi_mngr_t const  *const p_twi_mngr</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:81</div></div>
<div class="ttc" id="astructnrf__twi__sensor__t_html_a8d0f30adb1fd2cabf20cc2be360dff98"><div class="ttname"><a href="structnrf__twi__sensor__t.html#a8d0f30adb1fd2cabf20cc2be360dff98">nrf_twi_sensor_t::p_pool</a></div><div class="ttdeci">nrf_balloc_t const  *const p_pool</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:82</div></div>
<div class="ttc" id="astructnrf__twi__sensor__write__cmd__t_html"><div class="ttname"><a href="structnrf__twi__sensor__write__cmd__t.html">nrf_twi_sensor_write_cmd_t</a></div><div class="ttdoc">Struct describing sensor write command.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:107</div></div>
<div class="ttc" id="astructnrf__twi__sensor__write__cmd__t_html_a1c0a76774af5b9be0388b7573183e2f1"><div class="ttname"><a href="structnrf__twi__sensor__write__cmd__t.html#a1c0a76774af5b9be0388b7573183e2f1">nrf_twi_sensor_write_cmd_t::transfer</a></div><div class="ttdeci">nrf_twi_mngr_transfer_t transfer</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:109</div></div>
<div class="ttc" id="astructnrf__twi__sensor__write__cmd__t_html_a8ea15611e3cb799e268f6126c32e7fcf"><div class="ttname"><a href="structnrf__twi__sensor__write__cmd__t.html#a8ea15611e3cb799e268f6126c32e7fcf">nrf_twi_sensor_write_cmd_t::p_instance</a></div><div class="ttdeci">nrf_twi_sensor_t const  * p_instance</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:111</div></div>
<div class="ttc" id="astructnrf__twi__sensor__write__cmd__t_html_af80673f5880c244f690791594a893b08"><div class="ttname"><a href="structnrf__twi__sensor__write__cmd__t.html#af80673f5880c244f690791594a893b08">nrf_twi_sensor_write_cmd_t::transaction</a></div><div class="ttdeci">nrf_twi_mngr_transaction_t transaction</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:110</div></div>
<div class="ttc" id="aunionnrf__twi__sensor__cmd__t_html"><div class="ttname"><a href="unionnrf__twi__sensor__cmd__t.html">nrf_twi_sensor_cmd_t</a></div><div class="ttdoc">Union for sensor commands. Needed in buffer definition.</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:120</div></div>
<div class="ttc" id="aunionnrf__twi__sensor__cmd__t_html_aa5e8d1a1b70e8643794d8c7a6d1bf432"><div class="ttname"><a href="unionnrf__twi__sensor__cmd__t.html#aa5e8d1a1b70e8643794d8c7a6d1bf432">nrf_twi_sensor_cmd_t::write</a></div><div class="ttdeci">nrf_twi_sensor_write_cmd_t write</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:122</div></div>
<div class="ttc" id="aunionnrf__twi__sensor__cmd__t_html_aa6deb5a774a8d98e5fb80e736540a159"><div class="ttname"><a href="unionnrf__twi__sensor__cmd__t.html#aa6deb5a774a8d98e5fb80e736540a159">nrf_twi_sensor_cmd_t::read</a></div><div class="ttdeci">nrf_twi_sensor_read_cmd_t read</div><div class="ttdef"><b>Definition:</b> nrf_twi_sensor.h:121</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d9edf6c004b4a7ff14fe9ae7a92214ee.html">firmware</a></li><li class="navelem"><a class="el" href="dir_c54c06661e2a67506b5e7cd3af6ea490.html">bootloader</a></li><li class="navelem"><a class="el" href="dir_b62431b541e7b5da4376e8c995ef125d.html">components</a></li><li class="navelem"><a class="el" href="dir_108e21446e878ea100a8b4c4385a3918.html">libraries</a></li><li class="navelem"><a class="el" href="dir_ba5093d48407bfe50b628b70c65decbf.html">twi_sensor</a></li><li class="navelem"><a class="el" href="nrf__twi__sensor_8h.html">nrf_twi_sensor.h</a></li>
    <li class="footer">Generated by <a href="https://iotready.co"> IoTReady </a><img class="footer" src="logo.png" width="30" height="30" alt="IoTReady"/></a></li>
  </ul>
</div>
</body>
</html>
